"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateclient"]("main",{

/***/ "./src/components/Board.tsx":
/*!**********************************!*\
  !*** ./src/components/Board.tsx ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Board = exports.BoardMenuBar = void 0;\nconst react_1 = __importStar(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nconst react_2 = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.js\");\nconst Visibility_1 = __importDefault(__webpack_require__(/*! ./Visibility */ \"./src/components/Visibility.tsx\"));\nconst bs_1 = __webpack_require__(/*! react-icons/bs */ \"./node_modules/react-icons/bs/index.esm.js\");\nconst bi_1 = __webpack_require__(/*! react-icons/bi */ \"./node_modules/react-icons/bi/index.esm.js\");\nconst EditBoard_1 = __webpack_require__(/*! ./Functionality/EditBoard */ \"./src/components/Functionality/EditBoard.tsx\");\nconst AddCard_1 = __importDefault(__webpack_require__(/*! ./Functionality/AddCard */ \"./src/components/Functionality/AddCard.tsx\"));\nconst ContextScheme_1 = __webpack_require__(/*! ../context/ContextScheme */ \"./src/context/ContextScheme.tsx\");\nconst CardList_1 = __webpack_require__(/*! ./CardList */ \"./src/components/CardList.tsx\");\nconst Wrappers_1 = __webpack_require__(/*! ./ui-elements/Wrappers */ \"./src/components/ui-elements/Wrappers.tsx\");\nconst PopOver_1 = __webpack_require__(/*! ./ui-elements/PopOver */ \"./src/components/ui-elements/PopOver.tsx\");\nconst apiClient_1 = __importDefault(__webpack_require__(/*! ../services/apiClient */ \"./src/services/apiClient.ts\"));\nconst react_router_dom_1 = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/dist/index.js\");\nconst AssignMember_1 = __importDefault(__webpack_require__(/*! ./AssignMember */ \"./src/components/AssignMember.tsx\"));\nconst useAlerts_1 = __webpack_require__(/*! ../hooks/useAlerts */ \"./src/hooks/useAlerts.ts\");\nconst react_query_1 = __webpack_require__(/*! @tanstack/react-query */ \"./node_modules/@tanstack/react-query/build/lib/index.js\");\nconst MembersList_1 = __webpack_require__(/*! ./Lists/MembersList */ \"./src/components/Lists/MembersList.tsx\");\nconst BoardMenuBar = ({ Board, updateMutation, deleteMutation }) => {\n    return (react_1.default.createElement(react_2.Stack, null,\n        react_1.default.createElement(Wrappers_1.Container, { variant: \"mdSpaceBetween\" },\n            react_1.default.createElement(react_2.HStack, { spacing: 3 },\n                react_1.default.createElement(PopOver_1.PopOverWrapper, { triggerVariant: \"secondary\", closable: true, value: (Board === null || Board === void 0 ? void 0 : Board.visibility) ? 'private' : 'public', icon: react_1.default.createElement(bs_1.BsGlobeEuropeAfrica, null), size: \"2xs\" },\n                    react_1.default.createElement(Visibility_1.default, { mutation: updateMutation, Board: Board })),\n                !(Board === null || Board === void 0 ? void 0 : Board.visibility) && react_1.default.createElement(MembersList_1.MembersList, { max: 3, members: (Board === null || Board === void 0 ? void 0 : Board.users) || [] }),\n                !(Board === null || Board === void 0 ? void 0 : Board.visibility) && react_1.default.createElement(AssignMember_1.default, null)),\n            react_1.default.createElement(EditBoard_1.EditBoard, { Board: Board, updateMutation: updateMutation, deleteMutation: deleteMutation }))));\n};\nexports.BoardMenuBar = BoardMenuBar;\nconst Board = ({ BoardId }) => {\n    const [lists, setLists] = (0, react_1.useState)([]);\n    const { publicBoards } = (0, react_1.useContext)(ContextScheme_1.AppContext);\n    const BoardTemp = (publicBoards === null || publicBoards === void 0 ? void 0 : publicBoards.find((board) => board.id == BoardId)) || {\n        id: BoardId,\n        title: \"loading\",\n        description: \"loading\",\n        visibility: true,\n    };\n    const [BoardInfo, setBoardInfo] = (0, react_1.useState)(BoardTemp);\n    const [addList, setAddList] = (0, react_1.useState)(false);\n    const queryClient = (0, react_query_1.useQueryClient)();\n    const handleToggle = () => setAddList(!addList);\n    const getListsClient = new apiClient_1.default(`/boards/${BoardId}/lists`);\n    const boardInfoClient = new apiClient_1.default(`/boards/${BoardId}`);\n    const deleteListClient = (listId) => new apiClient_1.default(`/boards/${BoardId}/lists/${listId}`);\n    const navigate = (0, react_router_dom_1.useNavigate)();\n    const toast = (0, react_2.useToast)();\n    (0, react_query_1.useQuery)({\n        queryKey: [\"board\", BoardId],\n        queryFn: () => boardInfoClient.getData().then((res) => res.data),\n        refetchOnWindowFocus: false,\n        onSuccess: (data) => setBoardInfo(data.board),\n        onError: (error) => toast((0, useAlerts_1.useFailure)(error.message))\n    });\n    const { isLoading } = (0, react_query_1.useQuery)({\n        queryKey: [\"lists\", BoardId],\n        queryFn: () => getListsClient.getData().then((res) => res.data),\n        refetchOnWindowFocus: false,\n        onSuccess: (data) => setLists(data.lists),\n        onError: (error) => toast((0, useAlerts_1.useFailure)(error.message))\n    });\n    const newListMutation = (0, react_query_1.useMutation)({\n        mutationFn: (list) => getListsClient.postData(list).then((res) => res.data),\n        onSuccess: () => {\n            queryClient.invalidateQueries([\"lists\", BoardId]);\n            toast((0, useAlerts_1.useSuccess)(\"List successfully created!\"));\n        },\n        onError: (error) => { toast((0, useAlerts_1.useFailure)(error.message)); }\n    });\n    const removeListMutation = (0, react_query_1.useMutation)({\n        mutationFn: (listId) => deleteListClient(listId).deleteData().then((res) => res.data),\n        onSuccess: () => {\n            queryClient.invalidateQueries([\"lists\", BoardId]);\n            toast((0, useAlerts_1.useSuccess)(\"List successfully deleted!\"));\n        },\n        onError: (error) => { toast((0, useAlerts_1.useFailure)(error.message)); }\n    });\n    const updateBoardMutation = (0, react_query_1.useMutation)({\n        mutationFn: (Board) => boardInfoClient.updateData(Board, {}).then((res) => res.data),\n        onSuccess: () => {\n            queryClient.invalidateQueries([\"board\", BoardId]);\n            toast((0, useAlerts_1.useSuccess)(\"Board updated successfully!\"));\n        },\n        onError: (error) => { toast((0, useAlerts_1.useFailure)(error.message)); }\n    });\n    const deleteBoardMutation = (0, react_query_1.useMutation)({\n        mutationFn: () => boardInfoClient.deleteData().then((res) => res.data),\n        onSuccess: () => {\n            toast((0, useAlerts_1.useSuccess)(\"Board deleted successfully!\"));\n            navigate(\"/\");\n        },\n        onError: (error) => { toast((0, useAlerts_1.useFailure)(error.message)); }\n    });\n    const handleAddList = (title) => {\n        newListMutation.mutate({ name: title, boardId: BoardId });\n    };\n    (0, react_1.useEffect)(() => {\n        // queryClient.invalidateQueries([\"lists\", BoardId]);\n    }, []);\n    if (isLoading)\n        console.log(\"list are loading ...\");\n    return (react_1.default.createElement(react_2.Stack, { mt: \"90px\" },\n        react_1.default.createElement(exports.BoardMenuBar, { Board: BoardInfo, updateMutation: updateBoardMutation, deleteMutation: deleteBoardMutation }),\n        react_1.default.createElement(Wrappers_1.Container, { variant: \"boardStack\" },\n            lists.map((list, index) => {\n                return react_1.default.createElement(CardList_1.CardList, { list: list, mutation: removeListMutation, key: index });\n            }),\n            react_1.default.createElement(react_2.Stack, null, addList ? (react_1.default.createElement(AddCard_1.default, { cancelHandler: handleToggle, actionHandler: handleAddList, placeholder: \"Add list title \" })) : (react_1.default.createElement(react_2.Button, { variant: \"largePrimary\", onClick: handleToggle },\n                react_1.default.createElement(react_2.chakra.small, null, \"Add another list\"),\n                react_1.default.createElement(bi_1.BiPlus, null)))))));\n};\nexports.Board = Board;\n\n\n//# sourceURL=webpack://client/./src/components/Board.tsx?");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("9296f6853fc5b8b65156")
/******/ })();
/******/ 
/******/ }
);